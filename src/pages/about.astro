---
import { getCollection } from 'astro:content'
import { Image, getImage } from 'astro:assets'
import Layout from '@layouts/Layout.astro'
import Container from '@components/container.astro'
import Sectionhead from '@components/sectionhead.astro'

// Filter team entries with 'draft: false' & date before current date
const publishedTeamMembers = await getCollection('team', ({ data }) => {
  return !data.draft && data.publishDate < new Date()
})

import type { Frontmatter } from '~/config'
import { SiteMetadata } from '~/config'
import coverSVG from '../assets/hero.png'
import socialImage from '../assets/hero.png'

const frontmatter: Frontmatter = {
  title: 'About' + ' | ' + SiteMetadata.title,
  description: SiteMetadata.description,
  coverSVG: coverSVG,
  socialImage: socialImage,
  publishDate: SiteMetadata.buildTime,
}
---

<Layout frontmatter={frontmatter}>
  <Container>
    <Sectionhead>
      <Fragment slot="title">About</Fragment>
      <Fragment slot="desc">We are a small passionate team.</Fragment>
    </Sectionhead>

    <div class="colors">
      <div
        class="Card-eku6yp-0 flex flex-col mx-auto max-w-lg shadow rounded-lg text-nord0 overflow-hidden">
        <div class="Palette-sc-1dpuzey-0 flex overflow-hidden">
          <div class="ColorBox-z2xj84-0 flex flex-col justify-end h-40 w-full">
            <div color="#2e3440" class="Color-ootr8m-0 w-full h-full bg-nord0">
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              #2e3440
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              46 52 64
            </div>
          </div>
          <div class="ColorBox-z2xj84-0 flex flex-col justify-end h-40 w-full">
            <div color="#3b4252" class="Color-ootr8m-0 w-full h-full bg-nord1">
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              #3b4252
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              59 66 82
            </div>
          </div>
          <div class="ColorBox-z2xj84-0 flex flex-col justify-end h-40 w-full">
            <div color="#434c5e" class="Color-ootr8m-0 w-full h-full bg-nord2">
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              #434c5e
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              67 76 94
            </div>
          </div>
          <div class="ColorBox-z2xj84-0 flex flex-col justify-end h-40 w-full">
            <div color="#4c566a" class="Color-ootr8m-0 w-full h-full bg-nord3">
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              #4c566a
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              76 86 106
            </div>
          </div>
        </div>
      </div>
      <div
        class="Card-eku6yp-0 flex flex-col mx-auto max-w-lg shadow rounded-lg text-nord0 overflow-hidden">
        <div class="Palette-sc-1dpuzey-0 flex overflow-hidden">
          <div class="ColorBox-z2xj84-0 flex flex-col justify-end h-40 w-full">
            <div color="#2e3440" class="Color-ootr8m-0 w-full h-full bg-nord4">
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              #d8dee9
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              216 222 233
            </div>
          </div>
          <div class="ColorBox-z2xj84-0 flex flex-col justify-end h-40 w-full">
            <div color="#3b4252" class="Color-ootr8m-0 w-full h-full bg-nord5">
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              #e5e9f0
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              229 233 240
            </div>
          </div>
          <div class="ColorBox-z2xj84-0 flex flex-col justify-end h-40 w-full">
            <div color="#434c5e" class="Color-ootr8m-0 w-full h-full bg-nord6">
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              #eceff4
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              236 239 244
            </div>
          </div>
        </div>
      </div>
      <div
        class="Card-eku6yp-0 flex flex-col mx-auto max-w-lg shadow rounded-lg text-nord0 overflow-hidden">
        <div class="Palette-sc-1dpuzey-0 flex overflow-hidden">
          <div class="ColorBox-z2xj84-0 flex flex-col justify-end h-40 w-full">
            <div color="#2e3440" class="Color-ootr8m-0 w-full h-full bg-nord7">
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              #8fbcbb
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              143 188 187
            </div>
          </div>
          <div class="ColorBox-z2xj84-0 flex flex-col justify-end h-40 w-full">
            <div color="#3b4252" class="Color-ootr8m-0 w-full h-full bg-nord8">
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              #88c0d0
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              136 192 208
            </div>
          </div>
          <div class="ColorBox-z2xj84-0 flex flex-col justify-end h-40 w-full">
            <div color="#434c5e" class="Color-ootr8m-0 w-full h-full bg-nord9">
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              #81a1c1
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              129 161 193
            </div>
          </div>
          <div class="ColorBox-z2xj84-0 flex flex-col justify-end h-40 w-full">
            <div color="#434c5e" class="Color-ootr8m-0 w-full h-full bg-nord10">
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              #5e81ac
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              94 129 172
            </div>
          </div>
        </div>
      </div>
      <div
        class="Card-eku6yp-0 flex flex-col mx-auto max-w-lg shadow rounded-lg text-nord0 overflow-hidden">
        <div class="Palette-sc-1dpuzey-0 flex overflow-hidden">
          <div class="ColorBox-z2xj84-0 flex flex-col justify-end h-40 w-full">
            <div color="#2e3440" class="Color-ootr8m-0 w-full h-full bg-nord11">
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              #bf616a
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              191, 97, 106
            </div>
          </div>
          <div class="ColorBox-z2xj84-0 flex flex-col justify-end h-40 w-full">
            <div color="#3b4252" class="Color-ootr8m-0 w-full h-full bg-nord12">
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              #d08770
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              208, 135, 112
            </div>
          </div>
          <div class="ColorBox-z2xj84-0 flex flex-col justify-end h-40 w-full">
            <div color="#434c5e" class="Color-ootr8m-0 w-full h-full bg-nord13">
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              #ebcb8b
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              235, 203, 139
            </div>
          </div>
          <div class="ColorBox-z2xj84-0 flex flex-col justify-end h-40 w-full">
            <div color="#434c5e" class="Color-ootr8m-0 w-full h-full bg-nord14">
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              #a3be8c
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              163, 190, 140
            </div>
          </div>
          <div class="ColorBox-z2xj84-0 flex flex-col justify-end h-40 w-full">
            <div color="#434c5e" class="Color-ootr8m-0 w-full h-full bg-nord15">
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              #b48ead
            </div>
            <div class="Label-sc-1qu2uqm-0 uppercase text-sm py-1 text-center">
              180, 142, 173
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="flex flex-col gap-3 mx-auto max-w-4xl mt-16">
      <h2 class="font-bold text-3xl text-gray-800">
        Empowering the world with Astro.
      </h2>
      <p class="text-lg leading-relaxed text-slate-500">
        We're a multi-cultural team from around the world! We come from diverse
        backgrounds, bringing different personalities, experiences and skills to
        the job. This is what makes our team so special.
      </p>
    </div>
    <div class="grid md:grid-cols-3 gap-10 mx-auto max-w-4xl mt-12">
      {
        publishedTeamMembers.map(teamMemberEntry => (
          <div class="group">
            <div class="w-full aspect-square">
              <Image
                src={teamMemberEntry.data.avatar.src}
                alt={teamMemberEntry.data.avatar.alt}
                sizes="(max-width: 800px) 100vw, 400px"
                width={[280]}
                height="280"
                aspectRatio="1:1"
                background="#ffffff"
                fit="cover"
                position="center"
                class="w-full rounded-md rounded transition group-hover:-translate-y-1 group-hover:shadow-xl"
              />
            </div>

            <div class="mt-4 text-center">
              <h2 class="text-lg text-gray-800">{teamMemberEntry.data.name}</h2>
              <h3 class="text-sm text-slate-500">
                {teamMemberEntry.data.title}
              </h3>
            </div>
          </div>
        ))
      }
    </div>
  </Container>
</Layout>
