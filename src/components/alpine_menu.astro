<div class="relative mx-4 flex" x-data="{ searchbar: false, searchterm: '',  }">
  <button
    type="button"
    class="flex flex-row gap-8 rounded border border-solid border-[var(--bg2)] bg-[var(--bg2)] px-2 py-0.5 text-sm text-[var(--fg)] caret-[var(--fg)] outline-0 placeholder:text-[var(--fg3)] hover:border-[var(--bg3)] focus:border-[var(--bg4)] md:relative"
    @click="searchbar = true">
    <div class="flex flex-row gap-1 self-end text-[var(--fg3)]">
      <svg
        class="pointer-events-none h-4 w-4 font-semibold"
        viewBox="0 0 20 20"
        fill="currentColor"
        aria-hidden="true">
        <path
          fill-rule="evenodd"
          d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z"
          clip-rule="evenodd"></path>
      </svg>
      <span class="">Search</span>
    </div>

    <span class="flex flex-row text-xs">
      <kbd
        class="flex rounded border border-[var(--bg2)] bg-[var(--bg3)] px-2 py-0.5 font-semibold text-[var(--fg3)]"
        >Ctrl</kbd
      >
      <kbd
        class="flex rounded border border-[var(--bg2)] bg-[var(--bg3)] px-2 py-0.5 font-semibold text-[var(--fg3)]"
        >K</kbd
      >
    </span>
  </button>

  <div
    class="relative z-10"
    role="dialog"
    aria-modal="searchbar"
    @keydown.ctrl.k.prevent.document="searchbar = true"
    @keydown.meta.k.prevent.document="searchbar = true"
    @keydown.escape.document="searchbar = false"
    "
    :class="searchbar ? '' : 'hidden'">
    <div class="fixed inset-0 bg-gray-500 bg-opacity-50"></div>

    <div class="fixed inset-0 z-10 overflow-y-auto p-4 sm:p-6 md:p-20">
      <div
        class="mx-auto max-w-3xl divide-y divide-[var(--bg2)] overflow-hidden rounded-xl bg-[var(--bg1)] shadow-2xl ring-1 ring-black ring-opacity-5"
        x-trap.inert.noscroll.noreturn="searchbar">
        <div class="relative">
          <svg
            class="pointer-events-none absolute left-4 top-3.5 h-5 w-5 text-[var(--fg)]"
            viewBox="0 0 20 20"
            fill="currentColor"
            aria-hidden="true">
            <path
              fill-rule="evenodd"
              d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z"
              clip-rule="evenodd"></path>
          </svg>
          <input
            type="text"
            class="h-12 w-full border-0 bg-transparent pl-11 pr-4 text-[var(--fg)] placeholder:text-[var(--fg3)] focus:ring-0 sm:text-sm"
            placeholder="Search..."
            autocomplete="off"
          />
        </div>

        <ul
          class="max-h-[36rem] scroll-py-10 scroll-pb-2 overflow-y-auto p-0"
          x-ref="resultlist"
          @keydown.tab.document="$focus.wrap().next()">
        </ul>

        <div class="hidden px-6 py-14 text-center text-sm sm:px-14">
          <svg
            class="mx-auto h-6 w-6 text-[var(--fg)]"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"
            ></path>
          </svg>

          <p class="mt-4 font-semibold text-[var(--fg)]">No results found</p>
          <p class="mt-2 text-[var(--fg)]">
            We couldnâ€™t find anything with that term. Please try again.
          </p>
        </div>

        <div
          class="flex flex-row justify-between bg-[var(--bg1)] px-4 py-2.5 text-xs text-[var(--fg)]">
          <span class="flex flex-wrap items-center">
            Type <kbd
              class="mx-1 flex h-5 w-8 items-center justify-center rounded border border-[var(--bg2)] bg-[var(--bg1)] font-semibold text-[var(--fg)] sm:mx-2"
              >ESP</kbd
            > to close search bar, <kbd
              class="mx-1 flex h-5 w-8 items-center justify-center rounded border border-[var(--bg2)] bg-[var(--bg1)] font-semibold text-[var(--fg)] sm:mx-2"
              >TAB</kbd
            > to iterate
          </span>

          <div class="flex flex-row gap-2">
            <span class="flex flex-row">
              <span>Note</span>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="icon icon-tabler icon-tabler-bookmark h-4 w-4"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                stroke-width="2"
                stroke="currentColor"
                fill="none"
                stroke-linecap="round"
                stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <path d="M9 4h6a2 2 0 0 1 2 2v14l-5 -3l-5 3v-14a2 2 0 0 1 2 -2"
                ></path>
              </svg>
            </span>

            <span class="flex flex-row gap-1">
              <span>Blog</span>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="icon icon-tabler icon-tabler-align-box-left-top h-4 w-4"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                stroke-width="2"
                stroke="currentColor"
                fill="none"
                stroke-linecap="round"
                stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <path
                  d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"
                ></path>
                <path d="M9 13h-2"></path>
                <path d="M13 10h-6"></path>
                <path d="M11 7h-4"></path>
              </svg>
            </span>

            <span class="flex flex-row gap-1">
              <span>Project</span>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="icon icon-tabler icon-tabler-tools h-4 w-4"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                stroke-width="2"
                stroke="currentColor"
                fill="none"
                stroke-linecap="round"
                stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <path d="M3 21h4l13 -13a1.5 1.5 0 0 0 -4 -4l-13 13v4"></path>
                <path d="M14.5 5.5l4 4"></path>
                <path d="M12 8l-5 -5l-4 4l5 5"></path>
                <path d="M7 8l-1.5 1.5"></path>
                <path d="M16 12l5 5l-4 4l-5 -5"></path>
                <path d="M16 17l-1.5 1.5"></path>
              </svg>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
