---
// From https://github.com/withastro/astro.build/blob/02bb56a94ef30043842b8ab18411f3ca864f06c0/src/components/Favicon.astro

// Base on https://github.com/withastro/astro.build/blob/02bb56a94ef30043842b8ab18411f3ca864f06c0/src/components/BaseHead.astro

// Favicon https://github.com/withastro/astro.build/blob/02bb56a94ef30043842b8ab18411f3ca864f06c0/public/favicon.svg
// Favicon-hidden https://github.com/withastro/astro.build/blob/02bb56a94ef30043842b8ab18411f3ca864f06c0/public/favicon-hidden.svg
---

<link rel="icon" type="image/svg+xml" href="/favicon.svg" />

<script>
  const favicon = document.querySelector('link[rel="icon"]')!
  document.addEventListener('visibilitychange', () => {
    const hidden = document.hidden
    favicon.setAttribute('href', `/favicon${hidden ? '-hidden' : ''}.svg`)
  })
</script>
